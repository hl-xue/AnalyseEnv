FROM ubuntu:22.04

ENV LC_ALL=C

RUN export DEBIAN_FRONTEND=noninteractive \
	&& apt-get update \
	&& apt-get -yq install build-essential default-jdk r-base \
	&& apt -y install git python3 python3-pip

RUN python3 -m pip install --upgrade pip \
	&& cd /usr/ \
	&& git clone https://github.com/ayshwaryas/ddqc.git \
	&& cd ddqc/ \
	&& pip install . --no-cache \
	&& pip install cython pegasuspy[forceatlas,rpy2,torch,scvi] scrublet scanpy --no-cache

RUN echo "Construction complete!"
